function compileAPIResponseMessage(e){var s="",r=!0,a="text-green-avocado";if(200!=e.response_code&&(r=!1,a="text-red-cardinal"),Array.isArray(e.message))for(var o=0;o<e.message.length;o++)s.length>0&&(s+="<br>"),s+=e.message[o];else s=e.message;var t={};return t.code=e.response_code,t.message=s,t.color=a,t.success=r,t}function importData(e,s,r,a){if(r[a]){var o=r[a].index,t=r[a].row;$.ajax({url:"/tools/import/"+s,method:"POST",async:!1,data:{data:e[o]},success:function(n){n=JSON.parse(n);$response=compileAPIResponseMessage(n),t.find(".response-code").addClass($response.color).html($response.code),t.find(".desc").addClass($response.color).html($response.message);var c=$("[relgroup="+o+"]");$response.success?$(".import-result-success").append(c):$(".import-result-failed").append(c),importData(e,s,r,++a)}})}}function startImportData(e,s,r){var a=new Array;e.each(function(){a.push({index:$(this).attr("relkey"),row:$(this)})}),importData(s,r,a,0)}