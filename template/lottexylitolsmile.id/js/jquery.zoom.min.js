!function(h){var d={url:!1,callback:!1,target:!1,duration:120,on:"mouseover",touch:!0,onZoomIn:!1,onZoomOut:!1,magnify:1};h.zoom=function(o,t,e,n){var i,u,c,a,m,l,r,s=h(o).css("position"),f=h(t);return o.style.position=/(absolute|fixed)/.test(s)?s:"relative",o.style.overflow="hidden",e.style.width=e.style.height="",h(e).addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:e.width*n,height:e.height*n,border:"none",maxWidth:"none",maxHeight:"none"}).appendTo(o),{init:function(){u=h(o).outerWidth(),i=h(o).outerHeight(),t===o?(a=u,c=i):(a=f.outerWidth(),c=f.outerHeight()),m=(e.width-u)/a,l=(e.height-i)/c,r=f.offset()},move:function(o){var t=o.pageX-r.left,n=o.pageY-r.top;n=Math.max(Math.min(n,c),0),t=Math.max(Math.min(t,a),0),e.style.left=t*-m+"px",e.style.top=n*-l+"px"}}},h.fn.zoom=function(e){return this.each(function(){var o,t,n,i=h.extend({},d,e||{}),u=i.target||this,c=this,a=h(c),m=document.createElement("img"),l=h(m),r="mousemove.zoom",s=!1,f=!1;(i.url||((o=a.find("img"))[0]&&(i.url=o.data("src")||o.attr("src")),i.url))&&(t=u.style.position,n=u.style.overflow,a.one("zoom.destroy",function(){a.off(".zoom"),u.style.position=t,u.style.overflow=n,l.remove()}),m.onload=function(){var t=h.zoom(u,c,m,i.magnify);function n(o){t.init(),t.move(o),l.stop().fadeTo(h.support.opacity?i.duration:0,1,!!h.isFunction(i.onZoomIn)&&i.onZoomIn.call(m))}function e(){l.stop().fadeTo(i.duration,0,!!h.isFunction(i.onZoomOut)&&i.onZoomOut.call(m))}"grab"===i.on?a.on("mousedown.zoom",function(o){1===o.which&&(h(document).one("mouseup.zoom",function(){e(),h(document).off(r,t.move)}),n(o),h(document).on(r,t.move),o.preventDefault())}):"click"===i.on?a.on("click.zoom",function(o){return s?void 0:(s=!0,n(o),h(document).on(r,t.move),h(document).one("click.zoom",function(){e(),s=!1,h(document).off(r,t.move)}),!1)}):"toggle"===i.on?a.on("click.zoom",function(o){s?e():n(o),s=!s}):"mouseover"===i.on&&(t.init(),a.on("mouseenter.zoom",n).on("mouseleave.zoom",e).on(r,t.move)),i.touch&&a.on("touchstart.zoom",function(o){o.preventDefault(),f?(f=!1,e()):(f=!0,n(o.originalEvent.touches[0]||o.originalEvent.changedTouches[0]))}).on("touchmove.zoom",function(o){o.preventDefault(),t.move(o.originalEvent.touches[0]||o.originalEvent.changedTouches[0])}),h.isFunction(i.callback)&&i.callback.call(m)},m.src=i.url)})},h.fn.zoom.defaults=d}(window.jQuery);